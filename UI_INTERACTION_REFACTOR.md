# UI 交互树与重构目标（2026-02-07）

本文用于固化两件事：

1. 当前 UI 交互逻辑（As-Is）。
2. 刚讨论之重构目标与落地节奏（To-Be）。

注：本轮仅定方向，不动账号体系（注册/登录逻辑暂不改）。

## 进度标记

- [x] 已落地（2026-02-07）：
  - 创作入口改为登录可达（移除前端 `requiresCreator` 路由门槛）。
  - 顶栏入口统一为“创作”（不再分“音频工作台/开通工作台”）。
  - 首页“一键生成”改为登录用户可见。
  - 工作台首页收敛主动作（以“开始创作”为主入口）。
  - 创作页内并入“辩论/会议快速生成”区块（不再依赖单独入口）。
- [ ] 未动（按约定）：
  - 账号体系（游客态/注册策略）。

---

## 一、当前交互树（As-Is）

```text
MoFA FM（App Shell）
├─ 顶栏（常驻）
│  ├─ Logo -> /
│  ├─ 导航 -> 首页 / 发现 / 我的收听(登录后)
│  ├─ 搜索 -> /search
│  ├─ 身份入口
│  │  ├─ 未登录 -> 登录 / 注册
│  │  └─ 已登录 -> 创作
│  └─ 移动端菜单（同构）
├─ 路由守卫
│  └─ requiresAuth
└─ 全局播放器
   ├─ 播放控制、倍速、进度
   ├─ 下载（Web直链/App桥接）
   └─ 脚本查看

业务页
├─ 首页 /
│  ├─ Hero
│  ├─ 一键生成（登录可见）
│  ├─ AI工具入口
│  ├─ 推荐位
│  └─ 最新单集
├─ 发现 / 节目页 / 单集页
│  ├─ 收听、点赞、关注
│  └─ 单集页含分享卡
├─ 我的收听 /library
│  ├─ 关注列表
│  └─ 播放历史
└─ 工作台 /creator/*
   ├─ 节目管理（建节目、改节目、上传单集）
   └─ AI 音频创作（会话、RSS、辩论/会议、生成队列、封面流）
```

---

## 二、现存问题（UI 逻辑层）

1. 主站与工作台割裂，入口分叉早，用户心智被迫切换。
2. “创作者”门槛前置，导致“想创作”先被权限阻断。
3. 创作链路可用，但散在多入口，任务回看与续作成本高。
4. 术语不统一（创作者/工作台/播客平台/AI 音频）易致认知噪声。
5. 工作台首页并列 `AI 脚本创作` 与 `AI 辩论/会议` 两入口，边界不清，形成“先选功能再思考任务”的反向流程。

---

## 三、重构目标（To-Be）

总则：不减功能，只改编排；先通路，再分层。

1. 创作入口对所有登录用户开放。
2. “创作者”从入口门槛改为发布档位（后置触发）。
3. 主站与创作域互通：可从首页继续创作，可从创作页回收听。
4. 统一主流程：`输入源 -> 脚本 -> 音频 -> 分发`。
5. 默认节目兜底：未选节目亦可直接生成（此项已具备）。

---

## 四、目标交互树（To-Be）

```text
MoFA FM（统一信息架构）
├─ 顶栏三门：收听 / 创作 / 我的
├─ 创作（登录即可）
│  ├─ 来源输入（链接/RSS/自由写/辩论）
│  ├─ 脚本区（生成/改写/试听）
│  ├─ 生成区（提交音频）
│  └─ 任务队列（常驻可见）
├─ 收听
│  ├─ 推荐 / 发现 / 单集详情
│  └─ 订阅与分享
└─ 我的
   ├─ 我的收听
   ├─ 我的音频（含默认节目）
   └─ 账户设置
```

---

## 五、分期落地（建议）

### P0（先做，低风险）

1. 去除核心创作页 `requiresCreator` 路由门槛，仅保留 `requiresAuth`。
2. 首页“一键生成”对登录用户可见，不再要求创作者身份。
3. 顶栏按钮统一为“创作”，不再分“音频工作台/开通工作台”。
4. “开通工作台”页先保留，但从主入口降级为次入口。
5. 工作台首页收敛为单主按钮：`开始创作`；辩论/会议改为创作页内模式标签，不再与脚本创作并列抢主入口。

### P1（中期，提体验）

1. 将创作页收束为单页流（参数区/内容区/队列区）。
2. 高级参数默认折叠，首屏只留最小必填。
3. 首页补“继续创作”卡，与生成队列互链。

### P2（后续，可选）

1. 发布动作后置校验：仅在公开发布时提示开通。
2. 账号轻量化（游客模式）另立专题评估，不并入本轮。

---

## 六、验收标准

1. 登录用户可直接进入创作并提交任务，无“创作者”前置阻断。
2. 创作主流程 3 步内可达（输入->提交->看进度）。
3. 首页与创作页均可触达同一任务队列。
4. 术语统一：对外优先用“创作 / 我的音频 / AI 音频”。
