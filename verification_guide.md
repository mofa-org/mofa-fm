# 功能自测指南 (Verification Guide)

本文档汇总了项目近期完成的 10 个核心功能的自测流程。请按照以下步骤逐一验证。

## 1. 发现页分类筛选 (Discover Page Filtering)

**涉及任务**: 发现页分类筛选功能 / Enable Show Category Filtering
**目标**: 验证发现页能够根据分类筛选节目，并正确处理空状态。

1.  **进入发现页**: 点击导航栏 "Discover"。
2.  **默认展示**: 确认展示 "推荐" 或 "全部" 列表。
3.  **点击分类**: 点击顶部的分类标签（如 "科技", "生活"）。
    - 列表应刷新，只显示对应分类的节目。
    - URL 参数或网络请求应包含 `category` 字段。
4.  **空状态验证**: 选择一个已知无节目的分类，确认页面显示 "<el-empty> 暂无播客" 提示。

## 2. 搜索页筛选 (Search Page Filtering)

**涉及任务**: Search Page Filtering
**目标**: 验证搜索页支持按分类和标签进行组合筛选。

1.  **进入搜索页**: 点击导航栏 "Search"。
2.  **设置筛选条件**:
    - 在搜索框输入关键词（可选）。
    - 在下拉菜单中选择一个 "分类" (Category)。
    - 在下拉菜单中选择一个 "标签" (Tag)。
    - 点击 "搜索"。
3.  **验证结果**:
    - 结果列表应只包含匹配所有条件的节目/单集。
    - 浏览器 URL 应包含 `q`, `category`, `tag` 参数。
4.  **刷新页面**: 刷新浏览器，确认筛选条件和搜索结果依然保留（URL 回显功能）。

## 3. 评论管理 (Comment Management)

**涉及任务**: Comment Management
**目标**: 验证单集评论的回复、折叠及删除功能。

1.  **进入详情页**: 打开任意单集详情页。
2.  **发表评论**: 在底部输入框发送一条新评论。
3.  **回复评论**: 点击已有评论的 "回复"，输入内容并发送。
    - 回复应显示在原评论下方（嵌套结构）。
4.  **折叠/展开**:
    - 对于有多条回复的评论，点击 "收起/展开"。
    - 确认子评论的显示/隐藏状态切换正确。
5.  **删除评论**:
    - 找到自己发送的评论，点击 "删除"。
    - 确认评论从列表中消失。

## 4. 全局播放器音量控制 (Global Player Volume)

**涉及任务**: Global Player Volume
**目标**: 验证音量调节、静音及设置持久化。

1.  **播放音频**: 播放任意单集，唤起底部全局播放器。
2.  **调节音量**: 拖动音量滑块，确认音量实际发生变化。
3.  **静音切换**: 点击喇叭图标。
    - 图标变为静音状态，声音消失。
    - 再次点击恢复原音量。
4.  **持久化验证**:
    - 调整音量到特定值（如 50%）。
    - 刷新页面。
    - 确认播放器加载后音量依然为 50%。

## 5. 播放队列管理 (Playback Queue Management)

**涉及任务**: Playback Queue Management
**目标**: 验证播放队列的添加、排序和移除。

1.  **添加队列**: 在单集列表点击 "添加到队列"（如有）或直接播放多个单集。
2.  **打开队列面板**: 点击播放器右侧的 "列表" 图标，打开播放队列抽屉。
3.  **移除单集**: 点击某单集旁的 "X" 或移除按钮，确认其从队列消失。
4.  **清空队列**: 点击 "清空" 按钮，确认队列为空。
5.  **切歌验证**: 队列中有多个音频时，点击 "下一首"，确认自动播放队列下一项。

## 6. 节目分类与标签选择 (Show Category & Tag Selection)

**涉及任务**: Show Category & Tag Selection
**目标**: 验证创作者在创建/编辑节目时能正确选择分类和标签。

1.  **进入管理页**: 访问 "创作者中心" -> "创建节目" 或 "编辑节目"。
2.  **选择数据**:
    - 点击 "分类" 下拉框，应从后端加载真实分类数据。
    - 点击 "标签" 输入/选择框，应加载可用标签。
3.  **保存提交**: 填写其他必填项后保存。
4.  **验证回显**: 重新进入该节目的编辑页，确认之前选择的分类和标签正确显示。

## 7. TTS 生成真实响应 (TTS Generation Response)

**涉及任务**: Implement TTS Generation Response
**目标**: 验证 AI 剧本生成音频不再返回 501 错误。

1.  **进入 AI Studio**: 打开任意剧本。
2.  **生成音频**: 点击 "生成音频" 按钮。
3.  **验证响应**:
    - 界面不应报错。
    - 应提示 "任务已提交" 或类似成功信息。
    - (高级) 查看后端日志，确认 `generate_podcast_task`被触发。

## 8. 声线配置前端入口 (Voice Configuration)

**涉及任务**: Voice Configuration Frontend Entry
**目标**: 验证用户可为剧本角色绑定音色。

1.  **打开配置**: 在 AI Studio 点击 "声线配置"。
2.  **角色识别**: 确认弹窗列出了剧本中的所有角色（如 `【旁白】`）。
3.  **修改音色**: 更改某个角色的音色配置并保存。
4.  **验证生效**: 刷新页面再次打开配置，确认设置已保存。

## 9. 账号安全 - 密码重置 (Password Reset)

**涉及任务**: Account Security Completion
**目标**: 验证通过邮箱重置密码的流程。

1.  **请求重置**: 登录页 -> "忘记密码" -> 输入邮箱 -> 发送。
2.  **获取链接**: 查看后端控制台 (Terminal) 获取重置 Link。
3.  **重置密码**: 访问 Link -> 输入新密码 -> 提交成功。
4.  **新密码登录**: 使用新密码登录，旧密码应无法登录。

## 10. 邮箱验证流程 (Email Verification)

**涉及任务**: Email Verification Flow
**目标**: 验证邮箱验证逻辑及权限拦截。

1.  **查看状态**: 个人资料页 (`/profile`) 查看是否显示 "未验证"。
2.  **权限拦截**: (若未验证) 尝试创建一个新节目，应被系统拦截并提示需验证邮箱。
3.  **发送验证**: 点击 "发送验证邮件"。
4.  **完成验证**:
    - 查看后端控制台获取验证 Link。
    - 访问 Link，提示验证成功。
5.  **状态更新**: 返回个人资料页，状态应更新为 "已验证"。
